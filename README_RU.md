# Financial Stress Prediction API

ML-—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≥–∏–≥-—ç–∫–æ–Ω–æ–º–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## üéØ –ë–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞

### –ü—Ä–æ–±–ª–µ–º–∞
–†–∞–±–æ—Ç–Ω–∏–∫–∏ –≥–∏–≥-—ç–∫–æ–Ω–æ–º–∏–∫–∏ (Uber, —Ñ—Ä–∏–ª–∞–Ω—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –¥–æ—Å—Ç–∞–≤–∫–∞) —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å **—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é**:
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –¥–æ—Ö–æ–¥
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –¥–æ–ª–≥–æ–≤—É—é —è–º—É

### –†–µ—à–µ–Ω–∏–µ
–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è **—Ä–∞–Ω–Ω–µ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è** —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ —Å –≤—ã—Å–æ–∫–∏–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º —Å—Ç—Ä–µ—Å—Å–æ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è:
- üí∞ **–§–∏–Ω—Ç–µ—Ö-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º** - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
- üè• **–°—Ç—Ä–∞—Ö–æ–≤—ã–º –∫–æ–º–ø–∞–Ω–∏—è–º** - –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Ä–∏—Å–∫–∏
- ü§ù **–ü—Ä–æ—Ñ—Å–æ—é–∑–∞–º** - –æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É
- üìä **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞–º –∑–∞–Ω—è—Ç–æ—Å—Ç–∏** - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã

### –¶–µ–ª–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞
**Accuracy** - —Ç–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω—è —Å—Ç—Ä–µ—Å—Å–∞ (3 –∫–ª–∞—Å—Å–∞)

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π REST API –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞ (Low, Moderate, High) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Random Forest –º–æ–¥–µ–ª–∏.

## üìä –î–∞–Ω–Ω—ã–µ –∏ –∞–Ω–∞–ª–∏–∑

### –î–∞—Ç–∞—Å–µ—Ç
- **–†–∞–∑–º–µ—Ä**: 56,000 –∑–∞–ø–∏—Å–µ–π —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≥–∏–≥-—ç–∫–æ–Ω–æ–º–∏–∫–∏
- **–ü—Ä–∏–∑–Ω–∞–∫–∏**: 19 —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- **–ü–µ—Ä–∏–æ–¥**: —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ –º–µ—Å—è—Ü–∞–º (February - August)

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
```
Moderate (—É–º–µ—Ä–µ–Ω–Ω—ã–π —Å—Ç—Ä–µ—Å—Å):  52.6% (29,452 —á–µ–ª–æ–≤–µ–∫)
Low (–Ω–∏–∑–∫–∏–π —Å—Ç—Ä–µ—Å—Å):          29.3% (16,435 —á–µ–ª–æ–≤–µ–∫)
High (–≤—ã—Å–æ–∫–∏–π —Å—Ç—Ä–µ—Å—Å):        18.1% (10,113 —á–µ–ª–æ–≤–µ–∫)
```

**–ò–Ω—Å–∞–π—Ç**: –î–∞–Ω–Ω—ã–µ –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —É–º–µ—Ä–µ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏

**–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- `monthly_gig_income` - –º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ (–º–µ–¥–∏–∞–Ω–∞: ~$3,028)
- `credit_utilization_rate` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∞ (—Å—Ä–µ–¥–Ω–µ–µ: 32.3%)
- `current_total_liability` - –æ–±—â–∏–π –¥–æ–ª–≥ (–º–µ–¥–∏–∞–Ω–∞: $1,163)
- `missed_payment_events` - –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (—Å—Ä–µ–¥–Ω–µ–µ: 13.4)

**–î–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ:**
- `worker_age` - –≤–æ–∑—Ä–∞—Å—Ç (–º–µ–¥–∏–∞–Ω–∞: 33 –≥–æ–¥–∞)
- `job_sector` - —Å—Ñ–µ—Ä–∞ —Ä–∞–±–æ—Ç—ã (15 –∫–∞—Ç–µ–≥–æ—Ä–∏–π: Lawyer, Engineer, Doctor –∏ —Ç.–¥.)

**–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è:**
- `credit_age_months` - –≤–æ–∑—Ä–∞—Å—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏
- `num_credit_cards` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç
- `num_active_loans` - –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–π–º—ã

### üîç –ò–Ω—Å–∞–π—Ç—ã –∏–∑ EDA

1. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:**
   - –í—ã—Å–æ–∫–∏–π `missed_payment_events` ‚Üí –≤—ã—Å–æ–∫–∏–π —Å—Ç—Ä–µ—Å—Å
   - –ù–∏–∑–∫–∏–π `monthly_gig_income` ‚Üí –≤—ã—Å–æ–∫–∏–π —Å—Ç—Ä–µ—Å—Å
   - –í—ã—Å–æ–∫–∏–π `credit_utilization_rate` ‚Üí –≤—ã—Å–æ–∫–∏–π —Å—Ç—Ä–µ—Å—Å

2. **–ü—Ä–æ–ø—É—Å–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
   - `monthly_gig_income`: 15% –ø—Ä–æ–ø—É—Å–∫–æ–≤
   - `missed_payment_events`: 11% –ø—Ä–æ–ø—É—Å–∫–æ–≤
   - –ó–∞–ø–æ–ª–Ω–µ–Ω—ã –º–µ–¥–∏–∞–Ω–æ–π (–¥–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –≤—ã–±—Ä–æ—Å–∞–º–∏) –∏–ª–∏ —Å—Ä–µ–¥–Ω–∏–º

3. **–í—ã–±—Ä–æ—Å—ã:**
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤ 11 –∏–∑ 15 —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - –û—Å–æ–±–µ–Ω–Ω–æ –≤ `estimated_annual_income` –∏ `num_savings_accounts`
   - –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –º–µ—Ç–æ–¥–æ–º IQR –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **scikit-learn** - Random Forest –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## ü§ñ –ú–æ–¥–µ–ª—å –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é

1. **–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥:**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `credit_age_months` –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–µ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (clip to 0)
   - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –º–µ–¥–∏–∞–Ω–æ–π/—Å—Ä–µ–¥–Ω–∏–º (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–æ—Å–æ–≤)
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (StandardScaler)
   - One-Hot Encoding –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

2. **–ú–æ–¥–µ–ª—å:**
   - **RandomForestClassifier**
   - n_estimators: 270 –¥–µ—Ä–µ–≤—å–µ–≤
   - max_depth: 35
   - random_state: 2025

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - Train/Validation split: 80/20
   - Stratified split (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–π –∫–ª–∞—Å—Å–æ–≤)

### üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–∏

**–ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–µ (20% –æ—Ç train):**

```
Accuracy:           76.96%
F1-score (weighted): 76.87%
```

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–ª–∞—Å—Å–∞–º:**

| –ö–ª–∞—Å—Å | Precision | Recall | F1-Score | Support |
|-------|-----------|--------|----------|---------|
| **High** | ~0.68 | ~0.62 | ~0.65 | 2,023 |
| **Low** | ~0.71 | ~0.68 | ~0.69 | 3,287 |
| **Moderate** | ~0.82 | ~0.86 | ~0.84 | 5,890 |

**Confusion Matrix (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è):**
```
                 Predicted
              High   Low   Moderate
Actual High   1254   189    580
       Low     267  2236    784
       Moderate 418   408   5064
```

### üí° –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ **–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å** –¥–ª—è –∫–ª–∞—Å—Å–∞ Moderate (82%) - —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π –∫–ª–∞—Å—Å
- ‚úÖ **–•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å** precision/recall –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –º–æ–¥–µ–ª—å –Ω–µ –ø–µ—Ä–µ–æ–±—É—á–∏–ª–∞—Å—å

**–û–±–ª–∞—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚ö†Ô∏è –ö–ª–∞—Å—Å High —Å–ª–æ–∂–Ω–µ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å (—Ç–æ–ª—å–∫–æ 62% recall)
- ‚ö†Ô∏è –ú–æ–¥–µ–ª—å –∏–Ω–æ–≥–¥–∞ –ø—É—Ç–∞–µ—Ç High –∏ Moderate —Å—Ç—Ä–µ—Å—Å

**–ë–∏–∑–Ω–µ—Å-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- üìä **77% —Ç–æ—á–Ω–æ—Å—Ç—å** - —Ö–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è 3-–∫–ª–∞—Å—Å–æ–≤–æ–π –∑–∞–¥–∞—á–∏
- üíº –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è **–ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞**
- üéØ –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –ª—é–¥—å–º–∏

### üîù –í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (Top-10)

1. `missed_payment_events` - –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
2. `credit_utilization_rate` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∞
3. `monthly_gig_income` - –º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥
4. `current_total_liability` - –æ–±—â–∏–π –¥–æ–ª–≥
5. `avg_loan_delay_days` - –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ –∑–∞–π–º–∞–º
6. `end_of_month_balance` - –±–∞–ª–∞–Ω—Å –Ω–∞ –∫–æ–Ω–µ—Ü –º–µ—Å—è—Ü–∞
7. `recent_credit_checks` - –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
8. `num_active_loans` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–π–º–æ–≤
9. `worker_age` - –≤–æ–∑—Ä–∞—Å—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
10. `monthly_investments` - –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏

**–í—ã–≤–æ–¥:** –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–æ–ª–≥–∏, –ø–ª–∞—Ç–µ–∂–∏) –≤–∞–∂–Ω–µ–µ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö (–≤–æ–∑—Ä–∞—Å—Ç, –ø—Ä–æ—Ñ–µ—Å—Å–∏—è).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:

```bash
cd scripts
python3 train_model.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `models/model_artifacts.joblib` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### 2. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

#### –ë–µ–∑ Docker

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

#### –° Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t financial-stress-api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 financial-stress-api
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs

## API Endpoints

### 1. Health Check

**GET** `/health`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

```bash
curl http://localhost:8000/health
```

–û—Ç–≤–µ—Ç:
```json
{
  "status": "healthy",
  "model_loaded": true,
  "version": "1.0.0"
}
```

### 2. Model Info

**GET** `/`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–æ–¥–µ–ª–∏.

```bash
curl http://localhost:8000/
```

–û—Ç–≤–µ—Ç:
```json
{
  "model_type": "RandomForestClassifier",
  "model_version": "1.0.0",
  "features_count": 19,
  "target_classes": ["High", "Low", "Moderate"],
  "description": "Financial stress prediction model for gig economy workers"
}
```

### 3. Single Prediction

**POST** `/predict`

–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞.

```bash
curl -X POST http://localhost:8000/predict \
  -H "Content-Type: application/json" \
  -d '{
    "features": {
      "worker_id": "abc123",
      "survey_month": "June",
      "worker_age": 28.0,
      "job_sector": "Writer",
      "estimated_annual_income": 72810.29,
      "monthly_gig_income": 5865.98,
      "num_savings_accounts": 4,
      "num_credit_cards": 4,
      "avg_credit_interest": 17.0,
      "num_active_loans": 3,
      "avg_loan_delay_days": 15.0,
      "missed_payment_events": 12,
      "recent_credit_checks": 3,
      "current_total_liability": 1444.26,
      "credit_utilization_rate": 32.11,
      "credit_age_months": "20 y. 7 m.",
      "min_payment_flag": "No",
      "monthly_investments": 111.89,
      "spending_behavior": "Large expenses, large payments",
      "end_of_month_balance": 557.77
    }
  }'
```

–û—Ç–≤–µ—Ç:
```json
{
  "worker_id": "abc123",
  "predicted_stress_level": "Moderate",
  "prediction_probabilities": {
    "High": 0.15,
    "Low": 0.25,
    "Moderate": 0.60
  }
}
```

### 4. Batch Prediction

**POST** `/predict_batch`

–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ (–¥–æ 1000 –∑–∞ —Ä–∞–∑).

```bash
curl -X POST http://localhost:8000/predict_batch \
  -H "Content-Type: application/json" \
  -d '{
    "workers": [
      {
        "worker_id": "worker1",
        "worker_age": 28.0,
        "monthly_gig_income": 5000.0,
        ...
      },
      {
        "worker_id": "worker2",
        "worker_age": 35.0,
        "monthly_gig_income": 3000.0,
        ...
      }
    ]
  }'
```

–û—Ç–≤–µ—Ç:
```json
{
  "predictions": [
    {
      "worker_id": "worker1",
      "predicted_stress_level": "Low",
      "prediction_probabilities": {...}
    },
    {
      "worker_id": "worker2",
      "predicted_stress_level": "Moderate",
      "prediction_probabilities": {...}
    }
  ],
  "total_processed": 2
}
```

### 5. Detailed Model Info

**GET** `/model/info`

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö.

```bash
curl http://localhost:8000/model/info
```

## üíº –†–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–µ–π—Å 1: –§–∏–Ω—Ç–µ—Ö-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–∏–∫—Ä–æ–∑–∞–π–º–æ–≤ —Ö–æ—á–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –≥–∏–±–∫–∏–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º —Å —É–º–µ—Ä–µ–Ω–Ω—ã–º —Å—Ç—Ä–µ—Å—Å–æ–º.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "features": {
      "worker_id": "driver_12345",
      "job_sector": "Driver",
      "worker_age": 34.0,
      "monthly_gig_income": 3200.0,
      "num_credit_cards": 3,
      "avg_credit_interest": 18.5,
      "missed_payment_events": 8,
      "credit_utilization_rate": 42.0,
      "current_total_liability": 2100.0,
      "end_of_month_balance": 350.0
    }
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "predicted_stress_level": "Moderate",
  "prediction_probabilities": {
    "High": 0.25,
    "Low": 0.15,
    "Moderate": 0.60
  }
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–∞—Å—Å—Ä–æ—á–∫—É —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π —Å—Ç–∞–≤–∫–æ–π (14% –≤–º–µ—Å—Ç–æ 18%) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–∞.

---

### –ö–µ–π—Å 2: –ü—Ä–æ—Ñ—Å–æ—é–∑ - –†–∞–Ω–Ω–µ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü—Ä–æ—Ñ—Å–æ—é–∑ —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤ –≤—ã—è–≤–ª—è–µ—Ç —á–ª–µ–Ω–æ–≤ —Å –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π.

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "features": {
      "worker_id": "freelancer_789",
      "job_sector": "Writer",
      "worker_age": 27.0,
      "monthly_gig_income": 1800.0,
      "num_active_loans": 5,
      "missed_payment_events": 18,
      "credit_utilization_rate": 48.0,
      "current_total_liability": 4200.0,
      "end_of_month_balance": 80.0
    }
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "predicted_stress_level": "High",
  "prediction_probabilities": {
    "High": 0.72,
    "Low": 0.08,
    "Moderate": 0.20
  }
}
```

**–î–µ–π—Å—Ç–≤–∏–µ:** üö® –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.

---

### –ö–µ–π—Å 3: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Uber —Ö–æ—á–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –±–æ–Ω—É—Å—ã –≤–æ–¥–∏—Ç–µ–ª—è–º —Å –Ω–∏–∑–∫–∏–º —Å—Ç—Ä–µ—Å—Å–æ–º –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è.

**–ó–∞–ø—Ä–æ—Å:** (batch –¥–ª—è 1000 –≤–æ–¥–∏—Ç–µ–ª–µ–π)
```bash
curl -X POST http://localhost:8080/predict_batch \
  -H "Content-Type: application/json" \
  -d '{
    "workers": [
      {
        "worker_id": "driver_001",
        "monthly_gig_income": 5500.0,
        "credit_utilization_rate": 22.0,
        "missed_payment_events": 2
      },
      ...
    ]
  }'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã—è–≤–ª–µ–Ω–æ 230 –≤–æ–¥–∏—Ç–µ–ª–µ–π —Å Low stress ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏.

---

### –ö–µ–π—Å 4: –°—Ç—Ä–∞—Ö–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è - –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –°—Ç—Ä–∞—Ö–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –Ω–µ–≤—ã–ø–ª–∞—Ç –ø–æ —Å—Ç—Ä–∞—Ö–æ–≤–∫–µ –∂–∏–∑–Ω–∏.

**–õ–æ–≥–∏–∫–∞:**
- **High stress** ‚Üí –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (1.3x)
- **Moderate** ‚Üí —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (1.0x)
- **Low** ‚Üí –ø–æ–Ω–∏–∂–µ–Ω–Ω—ã–π (0.85x)

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–µ–º–∏–∏:**
```python
base_premium = 500  # –±–∞–∑–æ–≤–∞—è –ø—Ä–µ–º–∏—è
stress_multipliers = {
    "High": 1.3,
    "Moderate": 1.0,
    "Low": 0.85
}

# –ü–æ—Å–ª–µ API –∑–∞–ø—Ä–æ—Å–∞
predicted_level = "High"
final_premium = base_premium * stress_multipliers[predicted_level]
# = 500 * 1.3 = $650/–º–µ—Å—è—Ü
```

---

### –ö–µ–π—Å 5: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å - —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –£ –≤–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–Ω–∏–∫–µ.

```bash
curl -X POST http://localhost:8080/predict \
  -H "Content-Type: application/json" \
  -d '{
    "features": {
      "worker_age": 30.0,
      "monthly_gig_income": 4000.0,
      "num_credit_cards": 2,
      "credit_utilization_rate": 35.0
    }
  }'
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –º–µ–¥–∏–∞–Ω–∞–º–∏ –∏–∑ train –¥–∞–Ω–Ω—ã—Ö.

## –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

–í—Å–µ –ø–æ–ª—è —è–≤–ª—è—é—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ (Optional), –Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º—É–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

| –ü—Ä–∏–∑–Ω–∞–∫ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| worker_id | str | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ |
| survey_month | str | –ú–µ—Å—è—Ü —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö |
| worker_age | float | –í–æ–∑—Ä–∞—Å—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ (14-120) |
| job_sector | str | –¢–∏–ø —Ä–∞–±–æ—Ç—ã (Writer, Doctor, Engineer –∏ —Ç.–¥.) |
| estimated_annual_income | float | –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥ |
| monthly_gig_income | float | –ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ –æ—Ç –≥–∏–≥-—Ä–∞–±–æ—Ç—ã |
| num_savings_accounts | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ |
| num_credit_cards | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç |
| avg_credit_interest | float | –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º |
| num_active_loans | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–π–º–æ–≤ |
| avg_loan_delay_days | float | –°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–ø–ª–∞—Ç –ø–æ –∑–∞–π–º–∞–º (–¥–Ω–∏) |
| missed_payment_events | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π |
| recent_credit_checks | int | –ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞ |
| current_total_liability | float | –û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å |
| credit_utilization_rate | float | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ (%) |
| credit_age_months | str | –í–æ–∑—Ä–∞—Å—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (—Ñ–æ—Ä–º–∞—Ç: "17 y. 11 m.") |
| min_payment_flag | str | –§–ª–∞–≥ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞ (Yes/No/NM) |
| monthly_investments | float | –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ |
| spending_behavior | str | –ü–∞—Ç—Ç–µ—Ä–Ω —Ç—Ä–∞—Ç |
| end_of_month_balance | float | –ë–∞–ª–∞–Ω—Å –Ω–∞ –∫–æ–Ω–µ—Ü –º–µ—Å—è—Ü–∞ |

## –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ö–ª–∞—Å—Å—ã –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

- **Low** - –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞
- **Moderate** - —É–º–µ—Ä–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞
- **High** - –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞

### –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –∫–∞–∂–¥–æ–º—É –∫–ª–∞—Å—Å—É (—Å—É–º–º–∞ = 1.0).

## –î–µ–ø–ª–æ–π

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å Docker
docker build -t financial-stress-api .
docker run -d -p 8000:8000 --name stress-api financial-stress-api

# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8000/health
```

### –ù–∞ –æ–±–ª–∞—á–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ

#### Heroku

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Heroku CLI –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
heroku login
heroku create your-app-name
heroku container:push web -a your-app-name
heroku container:release web -a your-app-name
```

#### Google Cloud Run

```bash
# –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π
gcloud builds submit --tag gcr.io/PROJECT_ID/financial-stress-api
gcloud run deploy financial-stress-api \
  --image gcr.io/PROJECT_ID/financial-stress-api \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated
```

#### AWS Elastic Container Service (ECS)

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ AWS CLI –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
aws ecr create-repository --repository-name financial-stress-api
docker tag financial-stress-api:latest YOUR_ECR_URI:latest
docker push YOUR_ECR_URI:latest
# –°–æ–∑–¥–∞–π—Ç–µ ECS –∑–∞–¥–∞—á—É –∏ —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ AWS Console
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app/                     # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # Pydantic –º–æ–¥–µ–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ predictor.py         # –ö–ª–∞—Å—Å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ preprocessing.py     # –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ data/                    # –î–∞–Ω–Ω—ã–µ (–Ω–µ –≤ git)
‚îÇ   ‚îú‚îÄ‚îÄ raw/                 # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ train.csv        # –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test.csv         # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.csv            # –î—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ processed/           # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ models/                  # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–Ω–µ –≤ git)
‚îÇ   ‚îî‚îÄ‚îÄ model_artifacts.joblib  # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ notebooks/               # Jupyter –Ω–æ—É—Ç–±—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ Offline Interview.ipynb  # –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚îú‚îÄ‚îÄ scripts/                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py       # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_api.py          # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile               # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .dockerignore            # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ .gitignore               # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –≤ git
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Python —Ç–µ—Å—Ç

```python
import requests

url = "http://localhost:8000/predict"
data = {
    "features": {
        "worker_age": 30.0,
        "monthly_gig_income": 4000.0,
        "num_credit_cards": 2,
        "credit_utilization_rate": 35.0,
        # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    }
}

response = requests.post(url, json=data)
print(response.json())
```

### JavaScript —Ç–µ—Å—Ç

```javascript
fetch('http://localhost:8000/predict', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    features: {
      worker_age: 30.0,
      monthly_gig_income: 4000.0,
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    }
  })
})
.then(response => response.json())
.then(data => console.log(data));
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏

–ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–µ (20% –æ—Ç train):
- **Accuracy**: ~0.74-0.76
- **F1-score (weighted)**: ~0.74-0.76

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏:
- –ê–ª–≥–æ—Ä–∏—Ç–º: RandomForestClassifier
- n_estimators: 270
- max_depth: 35
- random_state: 2025

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

1. **Health checks** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/health`
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å timestamp
3. **–ú–µ—Ç—Ä–∏–∫–∏** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –æ—à–∏–±–∫–∏

## üìù –ß—Ç–æ –±—ã–ª–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–æ

### –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º

#### 1Ô∏è‚É£ –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏ –∏ –¥–∞–Ω–Ω—ã—Ö (EDA)
- ‚úÖ –ò–∑—É—á–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞: 56,000 –∑–∞–ø–∏—Å–µ–π, 19 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- ‚úÖ –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ (–¥–æ 15% –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö)
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–±—Ä–æ—Å–æ–≤ –º–µ—Ç–æ–¥–æ–º IQR
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (confusion matrix, feature importance)

**–§–∞–π–ª:** `notebooks/Offline Interview.ipynb`

#### 2Ô∏è‚É£ –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (`credit_age_months`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞)
- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤:
  - –ú–µ–¥–∏–∞–Ω–∞ –¥–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –≤—ã–±—Ä–æ—Å–∞–º–∏
  - –°—Ä–µ–¥–Ω–µ–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- ‚úÖ One-Hot Encoding –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö

**–§–∞–π–ª:** `app/preprocessing.py`

#### 3Ô∏è‚É£ –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
- ‚úÖ –í—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞: **RandomForestClassifier**
- ‚úÖ –ü–æ–¥–±–æ—Ä –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
  - –ü–µ—Ä–µ–±–æ—Ä n_estimators (10-300)
  - –ü–æ–¥–±–æ—Ä max_depth (1-35)
  - –§–∏–Ω–∞–ª—å–Ω—ã–µ: n_estimators=270, max_depth=35
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: Stratified Split 80/20
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç: Accuracy 76.96%, F1 76.87%**

**–§–∞–π–ª:** `scripts/train_model.py`

#### 4Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ REST API
- ‚úÖ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏:
  - `/health` - health check
  - `/` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏
  - `/predict` - –æ–¥–∏–Ω–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
  - `/predict_batch` - –ø–∞–∫–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
- ‚úÖ Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger UI)

**–§–∞–π–ª—ã:** `app/main.py`, `app/models.py`, `app/predictor.py`

#### 5Ô∏è‚É£ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Multi-stage Dockerfile –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
- ‚úÖ .dockerignore –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ Health check –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- ‚úÖ Non-root user –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–§–∞–π–ª:** `Dockerfile`

#### 6Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã API (`scripts/test_api.py`)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–µ–π—Å–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é (Heroku, GCP, AWS)

#### 7Ô∏è‚É£ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (data/, notebooks/, scripts/, app/)
- ‚úÖ .gitignore –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ requirements.txt —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ README —Ñ–∞–π–ª—ã –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

| –†–µ—à–µ–Ω–∏–µ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|---------|-------------|
| **RandomForest** | –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–º–∏ –∏ —á–∏—Å–ª–æ–≤—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏, —É—Å—Ç–æ–π—á–∏–≤ –∫ –≤—ã–±—Ä–æ—Å–∞–º |
| **–ú–µ–¥–∏–∞–Ω–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è** | –î–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –≤—ã–±—Ä–æ—Å–∞–º–∏ –º–µ–¥–∏–∞–Ω–∞ –Ω–∞–¥–µ–∂–Ω–µ–µ —Å—Ä–µ–¥–Ω–µ–≥–æ |
| **Stratified Split** | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–∏ –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| **FastAPI** | –ë—ã—Å—Ç—Ä—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, —Å –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π |
| **Docker** | –£–ø—Ä–æ—â–∞–µ—Ç –¥–µ–ø–ª–æ–π –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å |
| **Pydantic** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ |

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:** ~3-4 –º–∏–Ω—É—Ç—ã (270 –¥–µ—Ä–µ–≤—å–µ–≤)
- **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏:** ~500 MB (joblib)
- **–í—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:** <100ms –Ω–∞ 1 –∑–∞–ø—Ä–æ—Å
- **Batch –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ:** ~1-2 —Å–µ–∫ –Ω–∞ 1000 –∑–∞–ø–∏—Å–µ–π

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. üîÑ **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SMOTE –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è recall –Ω–∞ –∫–ª–∞—Å—Å–µ High
2. üìä **Feature Engineering** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (debt-to-income ratio)
3. ü§ñ **–ê–Ω—Å–∞–º–±–ª—å –º–æ–¥–µ–ª–µ–π** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å RF —Å XGBoost
4. üìà **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
5. üì° **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–æ–±–∞–≤–∏—Ç—å Prometheus metrics
6. üîÑ **Retraining pipeline** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
